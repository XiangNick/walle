(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43e0c0fc"],{"4d86":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:4}},[r("el-input",{staticStyle:{width:"260px"},attrs:{placeholder:"输入查询内容",clearable:""},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.fetchData(1)}},slot:"append"})],1)],1),t._v(" "),r("el-col",{attrs:{span:2,offset:18}},[r("router-link",{attrs:{to:"/board/group/create"}},[r("el-button",{staticStyle:{"margin-bottom":"8px"},attrs:{icon:"el-icon-circle-plus",type:"primary"}},[t._v("新增")])],1)],1)],1),t._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.boardList,"element-loading-text":"查询中",border:"",fit:"","highlight-current-row":""}},[r("el-table-column",{attrs:{label:"模板编码",width:"95",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.boardCode))]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"模板名称",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.boardName))]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"消息类型",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.messageType))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"消息标题",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.title))]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"消息正文",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.content))]}}])}),t._v(" "),r("el-table-column",{attrs:{"class-name":"status-col",label:"目标个数",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-tag",{attrs:{type:t._f("lengthFilter")(e.row.addresses.length)}},[t._v(t._s(e.row.addresses.length))])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("router-link",{attrs:{to:{name:"modifyGroupBoard",params:{boardCode:e.row.boardCode}}}},[r("el-button",{attrs:{icon:"el-icon-edit",type:"primary",size:"small",circle:""}})],1),t._v(" "),r("el-popover",{attrs:{placement:"top",width:"160"}},[r("p",[t._v("确定要删除该条记录吗？")]),t._v(" "),r("div",{staticStyle:{"text-align":"right",margin:"0"}},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){return t.deleteData(e.row.boardCode)}}},[t._v("确定")])],1),t._v(" "),r("el-button",{attrs:{slot:"reference",icon:"el-icon-delete",type:"danger",size:"small",circle:""},slot:"reference"})],1),t._v(" "),r("router-link",{attrs:{to:{name:"sendGroupMsg",params:{boardCode:e.row.boardCode}}}},[r("el-button",{attrs:{icon:"el-icon-s-promotion",type:"info",size:"small",circle:""}})],1)]}}])})],1),t._v(" "),r("el-row",{staticStyle:{"margin-top":"10px"}},[r("el-col",{attrs:{span:8,offset:16}},[r("el-pagination",{staticStyle:{float:"right",padding:"0px"},attrs:{background:"",total:t.totalCount,"current-page":t.currentPage,"page-size":t.pageSize,layout:"total, prev, pager, next"},on:{"current-change":t.fetchData}})],1)],1)],1)},a=[],o=r("e7d3"),l={filters:{lengthFilter:function(t){var e={success:"success",gray:"gray",danger:"danger"},r=t>20?"danger":t>10?"gray":"success";return e[r]}},data:function(){return{query:null,boardList:null,totalCount:0,currentPage:0,pageSize:0,loading:!0,visible:!1}},created:function(){this.fetchData(1)},methods:{fetchData:function(t){var e=this;this.loading=!0,Object(o["c"])(t,this.pageSize,this.query).then((function(t){e.boardList=t.items,e.totalCount=t.totalCount,e.currentPage=t.currentPage,e.pageSize=t.pageSize,e.loading=!1})).catch((function(t){e.$notify({title:"查询出错("+t.errorCode+")",type:"error",message:t.errorMsg}),e.loading=!1}))},deleteData:function(t){var e=this;Object(o["f"])(t).then((function(t){e.$notify({title:"提示",type:"info",message:"删除模板成功"}),setTimeout((function(){e.fetchData(1)}),1e3)})).catch((function(t){e.$notify({title:"操作失败("+t.errorCode+")",type:"error",message:t.errorMsg})}))}}},i=l,c=r("2877"),s=Object(c["a"])(i,n,a,!1,null,null,null);e["default"]=s.exports},e7d3:function(t,e,r){"use strict";r.d(e,"c",(function(){return a})),r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return l})),r.d(e,"e",(function(){return i})),r.d(e,"f",(function(){return c})),r.d(e,"d",(function(){return s}));var n=r("b775");function a(t,e,r){return Object(n["a"])({url:"/groupBoard/list",method:"get",params:{pageNo:t,pageSize:e,query:r}})}function o(t){return Object(n["a"])({url:"/groupBoard/"+t,method:"get"})}function l(t){return Object(n["a"])({url:"/groupBoard/create",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/groupBoard/modify",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/groupBoard/remove",method:"post",params:{boardCode:t}})}function s(){return Object(n["a"])({url:"/groupBoard/cnt",method:"get"})}}}]);