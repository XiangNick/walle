(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a201df28"],{6711:function(t,e,a){"use strict";a.d(e,"c",(function(){return o})),a.d(e,"b",(function(){return l})),a.d(e,"a",(function(){return s})),a.d(e,"d",(function(){return c})),a.d(e,"e",(function(){return i})),a.d(e,"f",(function(){return u}));var n=a("b775"),r="http://127.0.0.1:7001/walle";function o(t,e){return Object(n["a"])({baseURL:r,url:"/boards",method:"get",params:{pageNo:t,pageSize:e}})}function l(t){return Object(n["a"])({baseURL:r,url:"/board/"+t,method:"get"})}function s(t){return Object(n["a"])({baseURL:r,url:"/board/create",method:"post",data:t})}function c(t){return Object(n["a"])({baseURL:r,url:"/board/modify",method:"post",data:t})}function i(t){return Object(n["a"])({baseURL:r,url:"/board/remove",method:"post",params:{boardCode:t}})}function u(t,e){return Object(n["a"])({baseURL:r,url:"/message/send",method:"post",data:{boardCode:t,data:e}})}},a7d2:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:4}},[a("el-button",{staticStyle:{"margin-bottom":"8px"},attrs:{icon:"el-icon-search",type:"primary"},on:{click:function(e){return t.fetchData(1)}}},[t._v("查询")])],1),t._v(" "),a("el-col",{attrs:{span:2,offset:18}},[a("router-link",{attrs:{to:"/board/create"}},[a("el-button",{staticStyle:{"margin-bottom":"8px"},attrs:{icon:"el-icon-circle-plus",type:"primary"}},[t._v("新增")])],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.boardList,"element-loading-text":"查询中",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"模板编码",width:"95",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.boardCode))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"模板名称",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.boardName))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"消息类型",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.messageType))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"消息标题",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.title))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"消息正文",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.content))]}}])}),t._v(" "),a("el-table-column",{attrs:{"class-name":"status-col",label:"目标个数",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:t._f("lengthFilter")(e.row.addresses.length)}},[t._v(t._s(e.row.addresses.length))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:{name:"modifyBoard",params:{boardCode:e.row.boardCode}}}},[a("el-button",{attrs:{icon:"el-icon-edit",type:"primary",size:"small",circle:""}})],1),t._v(" "),a("el-popover",{attrs:{placement:"top",width:"160"}},[a("p",[t._v("确定要删除该条记录吗？")]),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.deleteData(e.row.boardCode)}}},[t._v("确定")])],1),t._v(" "),a("el-button",{attrs:{slot:"reference",icon:"el-icon-delete",type:"danger",size:"small",circle:""},slot:"reference"})],1),t._v(" "),a("router-link",{attrs:{to:{name:"sendMsg",params:{boardCode:e.row.boardCode}}}},[a("el-button",{attrs:{icon:"el-icon-s-promotion",type:"info",size:"small",circle:""}})],1)]}}])})],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:8,offset:16}},[a("el-pagination",{staticStyle:{float:"right",padding:"0px"},attrs:{background:"",total:t.totalCount,"current-page":t.currentPage,"page-size":t.pageSize,layout:"total, prev, pager, next"},on:{"current-change":t.fetchData}})],1)],1)],1)},r=[],o=a("6711"),l={filters:{lengthFilter:function(t){var e={success:"success",gray:"gray",danger:"danger"},a=t>20?"danger":t>10?"gray":"success";return e[a]}},data:function(){return{boardList:null,totalCount:0,currentPage:0,pageSize:0,loading:!0,visible:!1}},created:function(){this.fetchData(1)},methods:{fetchData:function(t,e){var a=this;this.loading=!0,Object(o["c"])(t,e).then((function(t){a.boardList=t.content.items,a.totalCount=t.content.totalCount,a.currentPage=t.content.currentPage,a.pageSize=t.content.pageSize,a.loading=!1}))},deleteData:function(t){var e=this;Object(o["e"])(t).then((function(t){t.success?(e.$message("删除模板成功"),setTimeout((function(){e.fetchData(1)}),1e3)):e.$message.error(t.errorMsg)}))}}},s=l,c=a("2877"),i=Object(c["a"])(s,n,r,!1,null,null,null);e["default"]=i.exports}}]);